# API限流问题修复

## 问题描述
前端一直显示"Loading travel recommendations..."，原因是：
- AirNow API返回429错误（Too Many Requests）
- 预测服务尝试获取30天历史数据，需要调用30次API
- 触发API限流，导致请求很慢或超时

## 解决方案
1. **暂时禁用预测功能**：避免在每次请求时都调用大量API
2. **减少历史数据获取**：从30天减少到7天
3. **添加错误处理**：遇到429错误时快速回退到seed数据

## 当前状态
- 预测功能已暂时禁用（`use_prediction=False`）
- 系统现在使用seed数据生成建议，响应快速
- 个性化risk_score计算仍然工作正常

## 未来改进
如果需要重新启用预测功能，可以考虑：
1. 实现缓存机制，避免重复获取历史数据
2. 在后台定期收集历史数据，而不是实时获取
3. 使用更少的API调用次数（例如：只获取最近7天数据）

