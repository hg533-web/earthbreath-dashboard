# NYC Data Setup Instructions

## Overview
NYC climate data and travel recommendations are now stored in the backend database instead of using frontend mock data.

## Setup Steps

### 1. Initialize Database Tables
Run the database initialization script to create the new tables:

```bash
cd backend
python -m app.db.init_db
```

This will create tables for:
- `nyc_climate_data` - NYC climate/weather data
- `travel_recommendations` - Travel recommendations for asthma patients

### 2. Seed Initial Data
Run the seeding script to populate the database with initial data:

```bash
python -m app.db.seed_nyc_data
```

This will:
- Generate climate data for common NYC zip codes (10001, 10002, 10003, etc.)
- Generate 7-day travel recommendations for each zip code
- Use the same data generation logic that was previously in the frontend

### 3. Start Backend Server
Make sure the backend server is running:

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## API Endpoints

### Climate Data
- `GET /api/nyc/climate/latest?zip_code={zip}` - Get latest climate data for a zip code
- `GET /api/nyc/climate?zip_code={zip}&start_date={date}&end_date={date}` - Get climate data with filters
- `GET /api/nyc/climate/zipcodes` - Get list of available zip codes

### Travel Recommendations
- `GET /api/nyc/travel/forecast?zip_code={zip}&days={n}` - Get forecast recommendations (default 7 days)
- `GET /api/nyc/travel/today?zip_code={zip}` - Get today's recommendations only
- `GET /api/nyc/travel?zip_code={zip}&start_date={date}&end_date={date}` - Get recommendations with filters

## Notes

- The seeding script generates mock data using the same algorithms as before
- Data is generated for common NYC zip codes
- Travel recommendations include Comprehensive Health Risk Index (CHRI) calculations
- Data can be regenerated by running the seeding script again (it will clear existing data first)

